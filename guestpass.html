<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GuestPass - Visitor Management</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>*{margin:0;padding:0;box-sizing:border-box}:root{--bg:#f8fafc;--card:#fff;--border:#e2e8f0;--text:#0f172a;--muted:#64748b;--primary:#f97316;--success:#22c55e;--warning:#f59e0b}body{font-family:'Plus Jakarta Sans',sans-serif;background:var(--bg);color:var(--text)}.app{display:flex;min-height:100vh}.sidebar{width:220px;background:var(--card);border-right:1px solid var(--border);padding:20px;position:fixed;height:100vh}.logo{display:flex;align-items:center;gap:10px;margin-bottom:24px}.logo-icon{width:36px;height:36px;background:linear-gradient(135deg,var(--primary),#fb923c);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:18px}.logo-text{font-weight:700;font-size:18px}.nav-item{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:8px;cursor:pointer;color:var(--muted);margin-bottom:4px;font-size:14px}.nav-item:hover,.nav-item.active{background:rgba(249,115,22,.1);color:var(--primary)}.main{flex:1;margin-left:220px;padding:24px}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.title{font-size:22px;font-weight:700}.btn{padding:10px 18px;border-radius:8px;font-weight:600;cursor:pointer;border:none;font-family:inherit;font-size:14px}.btn-primary{background:var(--primary);color:white}.btn-secondary{background:white;border:1px solid var(--border)}.btn-sm{padding:6px 12px;font-size:12px}.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:20px}.stat-card{background:var(--card);border-radius:12px;padding:16px;border:1px solid var(--border)}.stat-label{font-size:11px;color:var(--muted);text-transform:uppercase;margin-bottom:6px}.stat-value{font-size:24px;font-weight:700}.card{background:var(--card);border-radius:12px;border:1px solid var(--border);overflow:hidden;margin-bottom:20px}.card-header{padding:14px 18px;border-bottom:1px solid var(--border);font-weight:600}.table{width:100%;border-collapse:collapse}.table th,.table td{padding:12px 14px;text-align:left;border-bottom:1px solid var(--border);font-size:14px}.table th{background:var(--bg);font-weight:600;font-size:11px;text-transform:uppercase;color:var(--muted)}.badge{padding:4px 10px;border-radius:20px;font-size:11px;font-weight:600}.badge-checkedin{background:rgba(34,197,94,.15);color:var(--success)}.badge-expected{background:rgba(249,115,22,.15);color:var(--primary)}.badge-checkedout{background:rgba(100,116,139,.15);color:var(--muted)}.view{display:none}.view.active{display:block}.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:100}.modal-overlay.show{display:flex}.modal{background:var(--card);border-radius:16px;padding:24px;width:100%;max-width:500px}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-title{font-size:18px;font-weight:700}.close-btn{background:none;border:none;font-size:24px;cursor:pointer;color:var(--muted)}.form-group{margin-bottom:14px}.form-label{display:block;font-size:13px;font-weight:500;margin-bottom:6px}.form-input,.form-select{width:100%;padding:10px 12px;border-radius:8px;border:1px solid var(--border);font-size:14px;font-family:inherit}@media(max-width:900px){.stats{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.sidebar{display:none}.main{margin-left:0}}</style>
</head>
<body>
  <div class="app">
    <nav class="sidebar">
      <div class="logo"><div class="logo-icon">ðŸŽ«</div><span class="logo-text">GuestPass</span></div>
      <div class="nav-item active" onclick="showView('checkin')">âœ… Check In</div>
      <div class="nav-item" onclick="showView('visitors')">ðŸ‘¥ Visitors</div>
      <div class="nav-item" onclick="showView('expected')">ðŸ“‹ Expected</div>
      <div class="nav-item" onclick="showView('history')">ðŸ“Š History</div>
    </nav>
    <main class="main">
      <div id="view-checkin" class="view active">
        <div class="header"><h1 class="title">Check In</h1><button class="btn btn-primary" onclick="openModal()">+ New Visitor</button></div>
        <div class="stats">
          <div class="stat-card"><div class="stat-label">Currently On-Site</div><div class="stat-value" style="color:var(--success)" id="stat-onsite">0</div></div>
          <div class="stat-card"><div class="stat-label">Expected Today</div><div class="stat-value" style="color:var(--primary)" id="stat-expected">0</div></div>
          <div class="stat-card"><div class="stat-label">Checked In Today</div><div class="stat-value" id="stat-today">0</div></div>
          <div class="stat-card"><div class="stat-label">Avg Visit Time</div><div class="stat-value">45 min</div></div>
        </div>
        <div class="card"><div class="card-header">Current Visitors</div><table class="table"><thead><tr><th>Name</th><th>Host</th><th>Purpose</th><th>Check In</th><th>Actions</th></tr></thead><tbody id="current-visitors"></tbody></table></div>
      </div>
      <div id="view-visitors" class="view">
        <div class="header"><h1 class="title">All Visitors</h1></div>
        <div class="card"><table class="table"><thead><tr><th>Name</th><th>Company</th><th>Host</th><th>Last Visit</th></tr></thead><tbody id="all-visitors"></tbody></table></div>
      </div>
      <div id="view-expected" class="view">
        <div class="header"><h1 class="title">Expected Today</h1><button class="btn btn-primary" onclick="openModal()">+ Pre-Register</button></div>
        <div class="card"><table class="table"><thead><tr><th>Name</th><th>Host</th><th>Time</th><th>Status</th><th>Actions</th></tr></thead><tbody id="expected-list"></tbody></table></div>
      </div>
      <div id="view-history" class="view">
        <div class="header"><h1 class="title">Visit History</h1></div>
        <div class="card"><table class="table"><thead><tr><th>Date</th><th>Name</th><th>Host</th><th>In</th><th>Out</th></tr></thead><tbody id="history-list"></tbody></table></div>
      </div>
    </main>
  </div>
  <div class="modal-overlay" id="modal"><div class="modal"><div class="modal-header"><h2 class="modal-title">New Visitor</h2><button class="close-btn" onclick="closeModal()">&times;</button></div><div class="form-group"><label class="form-label">Visitor Name</label><input type="text" class="form-input" id="vis-name" placeholder="John Smith"></div><div class="form-group"><label class="form-label">Company</label><input type="text" class="form-input" id="vis-company" placeholder="ABC Corp"></div><div class="form-group"><label class="form-label">Host</label><select class="form-select" id="vis-host"><option>Alice Johnson</option><option>Bob Smith</option><option>Carol Williams</option></select></div><div class="form-group"><label class="form-label">Purpose</label><select class="form-select" id="vis-purpose"><option>Meeting</option><option>Interview</option><option>Delivery</option><option>Contractor</option><option>Other</option></select></div><div style="display:flex;gap:12px;margin-top:16px"><button class="btn btn-secondary" onclick="closeModal()">Cancel</button><button class="btn btn-primary" onclick="checkInVisitor()">Check In</button></div></div></div>
  <script>
    let visitors=[{id:1,name:'Mike Chen',company:'Tech Inc',host:'Alice Johnson',purpose:'Meeting',checkin:'10:30 AM',status:'checkedin'},{id:2,name:'Sarah Lee',company:'Design Co',host:'Bob Smith',purpose:'Interview',checkin:'11:00 AM',status:'checkedin'}];
    let expected=[{id:3,name:'Tom Wilson',host:'Carol Williams',time:'2:00 PM',status:'expected'},{id:4,name:'Jane Doe',host:'Alice Johnson',time:'3:30 PM',status:'expected'}];
    let history=[{date:'2026-01-02',name:'John Brown',host:'Bob Smith',in:'9:00 AM',out:'10:30 AM'},{date:'2026-01-02',name:'Lisa Wang',host:'Alice Johnson',in:'2:00 PM',out:'3:15 PM'}];
    let allVisitors=[{name:'Mike Chen',company:'Tech Inc',last:'Today'},{name:'Sarah Lee',company:'Design Co',last:'Today'},{name:'John Brown',company:'Sales Ltd',last:'Yesterday'}];
    const SK='guestpass_data';
    function saveData(){try{localStorage.setItem(SK,JSON.stringify({visitors,expected,history,allVisitors}));}catch(e){}}
    function loadData(){try{const s=localStorage.getItem(SK);if(s){const d=JSON.parse(s);if(d.visitors)visitors=d.visitors;if(d.expected)expected=d.expected;if(d.history)history=d.history;if(d.allVisitors)allVisitors=d.allVisitors;}}catch(e){}}

    let nextId=5;
    
    function showView(v){document.querySelectorAll('.view').forEach(x=>x.classList.remove('active'));document.getElementById('view-'+v).classList.add('active');document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));event.target.classList.add('active');loadData();
    render();}
    
    function render(){
      document.getElementById('stat-onsite').textContent=visitors.length;
      document.getElementById('stat-expected').textContent=expected.length;
      document.getElementById('stat-today').textContent=visitors.length+history.filter(h=>h.date==='2026-01-03').length;
      document.getElementById('current-visitors').innerHTML=visitors.map(v=>`<tr><td><strong>${v.name}</strong><br><small style="color:var(--muted)">${v.company}</small></td><td>${v.host}</td><td>${v.purpose}</td><td>${v.checkin}</td><td><button class="btn btn-sm btn-secondary" onclick="checkOut(${v.id})">Check Out</button></td></tr>`).join('')||'<tr><td colspan="5" style="text-align:center;color:var(--muted)">No visitors currently on-site</td></tr>';
      document.getElementById('all-visitors').innerHTML=allVisitors.map(v=>`<tr><td><strong>${v.name}</strong></td><td>${v.company}</td><td>-</td><td>${v.last}</td></tr>`).join('');
      document.getElementById('expected-list').innerHTML=expected.map(e=>`<tr><td><strong>${e.name}</strong></td><td>${e.host}</td><td>${e.time}</td><td><span class="badge badge-expected">Expected</span></td><td><button class="btn btn-sm btn-primary" onclick="checkInExpected(${e.id})">Check In</button></td></tr>`).join('');
      document.getElementById('history-list').innerHTML=history.map(h=>`<tr><td>${h.date}</td><td>${h.name}</td><td>${h.host}</td><td>${h.in}</td><td>${h.out}</td></tr>`).join('');
    }
    
    function openModal(){document.getElementById('modal').classList.add('show');}
    function closeModal(){document.getElementById('modal').classList.remove('show');}
    function checkInVisitor(){const name=document.getElementById('vis-name').value;if(!name){alert('Enter visitor name');return;}const now=new Date();const time=now.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'});visitors.push({id:nextId++,name,company:document.getElementById('vis-company').value||'',host:document.getElementById('vis-host').value,purpose:document.getElementById('vis-purpose').value,checkin:time,status:'checkedin'});closeModal();saveData();render();document.getElementById('vis-name').value='';document.getElementById('vis-company').value='';alert('Visitor checked in!');}
    function checkOut(id){const v=visitors.find(x=>x.id===id);const now=new Date();history.unshift({date:now.toISOString().split('T')[0],name:v.name,host:v.host,in:v.checkin,out:now.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'})});visitors=visitors.filter(x=>x.id!==id);saveData();render();alert('Visitor checked out');}
    function checkInExpected(id){const e=expected.find(x=>x.id===id);const now=new Date();visitors.push({id:e.id,name:e.name,company:'',host:e.host,purpose:'Meeting',checkin:now.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'}),status:'checkedin'});expected=expected.filter(x=>x.id!==id);saveData();render();alert('Visitor checked in!');}
    
    render();
  </script>
<footer style="text-align:center;padding:2rem;color:#64748b;border-top:1px solid #e2e8f0"><p>Â© 2026 BuyAppsOnce. Professional software without subscriptions.</p></footer>
</body>
</html>
