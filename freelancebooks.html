<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FreelanceBooks - Freelancer Accounting</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>*{margin:0;padding:0;box-sizing:border-box}:root{--bg:#f8fafc;--card:#fff;--border:#e2e8f0;--text:#0f172a;--muted:#64748b;--primary:#7c3aed;--success:#22c55e;--warning:#f59e0b;--danger:#ef4444}body{font-family:'Plus Jakarta Sans',sans-serif;background:var(--bg);color:var(--text)}.app{display:flex;min-height:100vh}.sidebar{width:220px;background:var(--card);border-right:1px solid var(--border);padding:20px;position:fixed;height:100vh}.logo{display:flex;align-items:center;gap:10px;margin-bottom:24px}.logo-icon{width:36px;height:36px;background:linear-gradient(135deg,var(--primary),#8b5cf6);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:18px}.logo-text{font-weight:700;font-size:18px}.nav-item{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:8px;cursor:pointer;color:var(--muted);margin-bottom:4px;font-size:14px}.nav-item:hover,.nav-item.active{background:rgba(124,58,237,.1);color:var(--primary)}.main{flex:1;margin-left:220px;padding:24px}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.title{font-size:22px;font-weight:700}.btn{padding:10px 18px;border-radius:8px;font-weight:600;cursor:pointer;border:none;font-family:inherit;font-size:14px}.btn-primary{background:var(--primary);color:white}.btn-secondary{background:white;border:1px solid var(--border)}.btn-danger{background:var(--danger);color:white}.btn-sm{padding:6px 12px;font-size:12px}.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:20px}.stat-card{background:var(--card);border-radius:12px;padding:16px;border:1px solid var(--border)}.stat-label{font-size:11px;color:var(--muted);text-transform:uppercase;margin-bottom:6px}.stat-value{font-size:24px;font-weight:700}.card{background:var(--card);border-radius:12px;border:1px solid var(--border);overflow:hidden;margin-bottom:20px}.card-header{padding:14px 18px;border-bottom:1px solid var(--border);font-weight:600}.card-body{padding:16px}.table{width:100%;border-collapse:collapse}.table th,.table td{padding:12px 14px;text-align:left;border-bottom:1px solid var(--border);font-size:14px}.table th{background:var(--bg);font-weight:600;font-size:11px;text-transform:uppercase;color:var(--muted)}.view{display:none}.view.active{display:block}.badge{padding:4px 10px;border-radius:20px;font-size:11px;font-weight:600}.badge-paid{background:rgba(34,197,94,.15);color:var(--success)}.badge-pending{background:rgba(245,158,11,.15);color:var(--warning)}.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:100}.modal-overlay.show{display:flex}.modal{background:var(--card);border-radius:16px;padding:24px;width:100%;max-width:450px}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-title{font-size:18px;font-weight:700}.close-btn{background:none;border:none;font-size:24px;cursor:pointer}.form-group{margin-bottom:14px}.form-label{display:block;font-size:13px;font-weight:500;margin-bottom:6px}.form-input,.form-select{width:100%;padding:10px 12px;border-radius:8px;border:1px solid var(--border);font-size:14px;font-family:inherit}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}.toast{position:fixed;bottom:20px;right:20px;background:#333;color:white;padding:12px 20px;border-radius:8px;z-index:200;display:none}.toast.show{display:block}@media(max-width:768px){.sidebar{display:none}.main{margin-left:0}.stats{grid-template-columns:repeat(2,1fr)}}</style>
</head>
<body>
  <div class="app">
    <nav class="sidebar">
      <div class="logo"><div class="logo-icon">üíº</div><span class="logo-text">FreelanceBooks</span></div>
      <div class="nav-item active" onclick="showView('dashboard')">üìä Dashboard</div>
      <div class="nav-item" onclick="showView('income')">üí∞ Income</div>
      <div class="nav-item" onclick="showView('expenses')">üßæ Expenses</div>
      <div class="nav-item" onclick="showView('invoices')">üìÑ Invoices</div>
      <div class="nav-item" onclick="showView('settings')">‚öôÔ∏è Settings</div>
    </nav>
    <main class="main">
      <div id="view-dashboard" class="view active">
        <div class="header"><h1 class="title">Dashboard</h1></div>
        <div class="stats"><div class="stat-card"><div class="stat-label">Total Income</div><div class="stat-value" style="color:var(--success)" id="stat-income">$0</div></div><div class="stat-card"><div class="stat-label">Total Expenses</div><div class="stat-value" style="color:var(--danger)" id="stat-expenses">$0</div></div><div class="stat-card"><div class="stat-label">Net Profit</div><div class="stat-value" style="color:var(--primary)" id="stat-profit">$0</div></div><div class="stat-card"><div class="stat-label">Pending</div><div class="stat-value" id="stat-pending">$0</div></div></div>
        <div class="card"><div class="card-header">Recent Transactions</div><table class="table"><thead><tr><th>Date</th><th>Description</th><th>Type</th><th>Amount</th></tr></thead><tbody id="recent-trans"></tbody></table></div>
      </div>
      <div id="view-income" class="view"><div class="header"><h1 class="title">Income</h1><button class="btn btn-primary" onclick="openModal('income')">+ Add Income</button></div><div class="card"><table class="table"><thead><tr><th>Date</th><th>Client</th><th>Description</th><th>Amount</th><th>Actions</th></tr></thead><tbody id="income-table"></tbody></table></div></div>
      <div id="view-expenses" class="view"><div class="header"><h1 class="title">Expenses</h1><button class="btn btn-primary" onclick="openModal('expense')">+ Add Expense</button></div><div class="card"><table class="table"><thead><tr><th>Date</th><th>Vendor</th><th>Category</th><th>Amount</th><th>Actions</th></tr></thead><tbody id="expense-table"></tbody></table></div></div>
      <div id="view-invoices" class="view"><div class="header"><h1 class="title">Invoices</h1><button class="btn btn-primary" onclick="openModal('invoice')">+ New Invoice</button></div><div class="card"><table class="table"><thead><tr><th>#</th><th>Client</th><th>Amount</th><th>Status</th><th>Actions</th></tr></thead><tbody id="invoice-table"></tbody></table></div></div>
      <div id="view-settings" class="view"><div class="header"><h1 class="title">Settings</h1></div><div class="card card-body"><h3 style="margin-bottom:16px">Data</h3><div style="display:flex;gap:12px"><button class="btn btn-secondary" onclick="exportData()">Export</button><button class="btn btn-secondary" onclick="document.getElementById('import-file').click()">Import</button><button class="btn btn-danger" onclick="clearData()">Clear</button><input type="file" id="import-file" accept=".json" style="display:none" onchange="importData(event)"></div></div></div>
    </main>
  </div>
  <div class="modal-overlay" id="modal-income"><div class="modal"><div class="modal-header"><h2 class="modal-title">Add Income</h2><button class="close-btn" onclick="closeModal('income')">&times;</button></div><form onsubmit="saveIncome(event)"><div class="form-group"><label class="form-label">Client</label><input type="text" class="form-input" id="income-client" required></div><div class="form-group"><label class="form-label">Description</label><input type="text" class="form-input" id="income-desc"></div><div class="form-row"><div class="form-group"><label class="form-label">Amount</label><input type="number" step="0.01" class="form-input" id="income-amount" required></div><div class="form-group"><label class="form-label">Date</label><input type="date" class="form-input" id="income-date" required></div></div><div style="display:flex;gap:12px;margin-top:16px"><button type="button" class="btn btn-secondary" onclick="closeModal('income')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div></form></div></div>
  <div class="modal-overlay" id="modal-expense"><div class="modal"><div class="modal-header"><h2 class="modal-title">Add Expense</h2><button class="close-btn" onclick="closeModal('expense')">&times;</button></div><form onsubmit="saveExpense(event)"><div class="form-group"><label class="form-label">Vendor</label><input type="text" class="form-input" id="expense-vendor" required></div><div class="form-row"><div class="form-group"><label class="form-label">Category</label><select class="form-select" id="expense-cat"><option>Software</option><option>Office</option><option>Travel</option><option>Equipment</option><option>Marketing</option><option>Other</option></select></div><div class="form-group"><label class="form-label">Amount</label><input type="number" step="0.01" class="form-input" id="expense-amount" required></div></div><div class="form-group"><label class="form-label">Date</label><input type="date" class="form-input" id="expense-date" required></div><div style="display:flex;gap:12px;margin-top:16px"><button type="button" class="btn btn-secondary" onclick="closeModal('expense')">Cancel</button><button type="submit" class="btn btn-primary">Save</button></div></form></div></div>
  <div class="modal-overlay" id="modal-invoice"><div class="modal"><div class="modal-header"><h2 class="modal-title">New Invoice</h2><button class="close-btn" onclick="closeModal('invoice')">&times;</button></div><form onsubmit="saveInvoice(event)"><div class="form-group"><label class="form-label">Client</label><input type="text" class="form-input" id="invoice-client" required></div><div class="form-row"><div class="form-group"><label class="form-label">Amount</label><input type="number" step="0.01" class="form-input" id="invoice-amount" required></div><div class="form-group"><label class="form-label">Status</label><select class="form-select" id="invoice-status"><option value="pending">Pending</option><option value="paid">Paid</option></select></div></div><div style="display:flex;gap:12px;margin-top:16px"><button type="button" class="btn btn-secondary" onclick="closeModal('invoice')">Cancel</button><button type="submit" class="btn btn-primary">Create</button></div></form></div></div>
  <div class="toast" id="toast"></div>
  <script>
    let income=[{id:1,date:'2026-01-02',client:'Acme Corp',desc:'Web Development',amount:5000},{id:2,date:'2025-12-15',client:'Beta Inc',desc:'Consulting',amount:2500}];
    let expenses=[{id:1,date:'2026-01-01',vendor:'Adobe',cat:'Software',amount:55},{id:2,date:'2025-12-15',vendor:'WeWork',cat:'Office',amount:350}];
    let invoices=[{id:1001,client:'Acme Corp',amount:5000,status:'paid'},{id:1002,client:'Delta Co',amount:3000,status:'pending'}];
    const SK='freelancebooks_data';
    function saveData(){try{localStorage.setItem(SK,JSON.stringify({income,expenses,invoices}));}catch(e){}}
    function loadData(){try{const s=localStorage.getItem(SK);if(s){const d=JSON.parse(s);if(d.income)income=d.income;if(d.expenses)expenses=d.expenses;if(d.invoices)invoices=d.invoices;}}catch(e){}}
    function fmt(n){return '$'+Number(n).toLocaleString();}
    function nextId(arr){return arr.length?Math.max(...arr.map(x=>x.id))+1:1;}
    function toast(msg){const t=document.getElementById('toast');t.textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),3000);}
    function showView(v){document.querySelectorAll('.view').forEach(el=>el.classList.remove('active'));document.querySelectorAll('.nav-item').forEach(el=>el.classList.remove('active'));document.getElementById('view-'+v).classList.add('active');event.target.classList.add('active');render();}
    function openModal(t){document.getElementById('modal-'+t).classList.add('show');const dateEl=document.getElementById(t+'-date');if(dateEl)dateEl.value=new Date().toISOString().split('T')[0];}
    function closeModal(t){document.getElementById('modal-'+t).classList.remove('show');}
    function saveIncome(e){e.preventDefault();income.push({id:nextId(income),date:document.getElementById('income-date').value,client:document.getElementById('income-client').value,desc:document.getElementById('income-desc').value,amount:Number(document.getElementById('income-amount').value)});saveData();closeModal('income');render();toast('Income added!');}
    function saveExpense(e){e.preventDefault();expenses.push({id:nextId(expenses),date:document.getElementById('expense-date').value,vendor:document.getElementById('expense-vendor').value,cat:document.getElementById('expense-cat').value,amount:Number(document.getElementById('expense-amount').value)});saveData();closeModal('expense');render();toast('Expense added!');}
    function saveInvoice(e){e.preventDefault();invoices.push({id:nextId(invoices),client:document.getElementById('invoice-client').value,amount:Number(document.getElementById('invoice-amount').value),status:document.getElementById('invoice-status').value});saveData();closeModal('invoice');render();toast('Invoice created!');}
    function deleteIncome(id){if(!confirm('Delete?'))return;income=income.filter(i=>i.id!==id);saveData();render();}
    function deleteExpense(id){if(!confirm('Delete?'))return;expenses=expenses.filter(e=>e.id!==id);saveData();render();}
    function deleteInvoice(id){if(!confirm('Delete?'))return;invoices=invoices.filter(i=>i.id!==id);saveData();render();}
    function markPaid(id){invoices=invoices.map(i=>i.id===id?{...i,status:'paid'}:i);saveData();render();toast('Marked paid!');}
    function render(){const totalIncome=income.reduce((s,i)=>s+i.amount,0);const totalExpenses=expenses.reduce((s,e)=>s+e.amount,0);const pending=invoices.filter(i=>i.status==='pending').reduce((s,i)=>s+i.amount,0);document.getElementById('stat-income').textContent=fmt(totalIncome);document.getElementById('stat-expenses').textContent=fmt(totalExpenses);document.getElementById('stat-profit').textContent=fmt(totalIncome-totalExpenses);document.getElementById('stat-pending').textContent=fmt(pending);const all=[...income.map(i=>({...i,type:'income'})),...expenses.map(e=>({...e,type:'expense',desc:e.vendor}))].sort((a,b)=>b.date.localeCompare(a.date)).slice(0,5);document.getElementById('recent-trans').innerHTML=all.map(t=>'<tr><td>'+t.date+'</td><td>'+(t.client||t.vendor)+'</td><td style="text-transform:capitalize">'+t.type+'</td><td style="color:var(--(t.type==="income"?"success":"danger"))">'+fmt(t.amount)+'</td></tr>').join('');document.getElementById('income-table').innerHTML=[...income].sort((a,b)=>b.date.localeCompare(a.date)).map(i=>'<tr><td>'+i.date+'</td><td>'+i.client+'</td><td>'+(i.desc||'-')+'</td><td style="color:var(--success)">'+fmt(i.amount)+'</td><td><button class="btn btn-sm btn-danger" onclick="deleteIncome('+i.id+')">Del</button></td></tr>').join('');document.getElementById('expense-table').innerHTML=[...expenses].sort((a,b)=>b.date.localeCompare(a.date)).map(e=>'<tr><td>'+e.date+'</td><td>'+e.vendor+'</td><td>'+e.cat+'</td><td style="color:var(--danger)">'+fmt(e.amount)+'</td><td><button class="btn btn-sm btn-danger" onclick="deleteExpense('+e.id+')">Del</button></td></tr>').join('');document.getElementById('invoice-table').innerHTML=invoices.map(i=>'<tr><td>#'+i.id+'</td><td>'+i.client+'</td><td>'+fmt(i.amount)+'</td><td><span class="badge badge-'+i.status+'">'+i.status+'</span></td><td>'+(i.status==='pending'?'<button class="btn btn-sm btn-primary" onclick="markPaid('+i.id+')">Mark Paid</button>':'')+'<button class="btn btn-sm btn-danger" onclick="deleteInvoice('+i.id+')">Del</button></td></tr>').join('');}
    function exportData(){const d=JSON.stringify({income,expenses,invoices},null,2);const b=new Blob([d],{type:'application/json'});const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='freelancebooks-backup.json';a.click();toast('Exported!');}
    function importData(e){const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=function(ev){try{const d=JSON.parse(ev.target.result);if(d.income)income=d.income;if(d.expenses)expenses=d.expenses;if(d.invoices)invoices=d.invoices;saveData();render();toast('Imported!');}catch(err){alert('Invalid');}};r.readAsText(f);e.target.value='';}
    function clearData(){if(!confirm('Clear all?'))return;income=[];expenses=[];invoices=[];saveData();render();toast('Cleared');}
    document.addEventListener('DOMContentLoaded',function(){loadData();render();});
  </script>
</body>
</html>
